\newcounter{lastval}
\newcounter{thishalf}
\newcounter{thisval}
\definecolor{wheat}{rgb}{.96, .87, .7} 
\definecolor{lightblue}{rgb}{.68, .85, .9} 
\definecolor{brown}{rgb}{.65, .16, .16}
\definecolor{pink}{rgb}{1, .75, .8} 
\definecolor{palegreen}{rgb}{.6, .98, .6} 
\definecolor{white}{rgb}{1, 1, 1 } 
\newcommand\lang[4]{% name, value, percentage, color
\setcounter{thisval}{\value{lastval}}
\addtocounter{thisval}{#3}
\pswedge[fillcolor=#4,linecolor=gray,shadow=true]{1}{\thelastval}{\thethisval}%
\setcounter{thishalf}{((\value{thisval}-\value{lastval})/2)+\value{lastval}}
 \ifnum#3>200\rput(1.3;\thethishalf){#1}\fi
\setcounter{lastval}{\value{thisval}}
}
\bgroup\psset{unit=3}
\centerline{\begin{pspicture}(-1.3,-1.3)(1.3,1.3)
\degrees[100]
\SpecialCoor
\setcounter{lastval}{0}
\lang{\fontup{темная энергия}}{1}{70}{lightblue}
\lang{\fontup{темная материя}}{2}{25}{palegreen}
\lang{\fontup{обычное вещество}}{3}{4}{wheat}
\lang{\fontup{излучение}}{4}{1}{brown}
\rput(0.4;26){\psframebox*[fillcolor=lightblue]{\Large 70 \%}}
\rput(0.6;83){\psframebox*[fillcolor=palegreen]{\Large 25 \%}}
\rput(1.3;-2.8){\psframebox*[fillcolor=white]{{\color{black}\Large 5\%}}}
\uput{1.2}[35](0;0){\small \fontup{темная энергия}}
\uput{1}[35](3;-5){\small \fontup{излучение}}
\uput{1}[35](3.16;-7.5){\small \fontup{обычное вещество}}
\uput{1}[35](3;-11){\small \fontup{темная материя}}
\end{pspicture}}
\egroup
